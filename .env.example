# ============================================
# Embedding Service v2.2.0 Configuration
# ============================================

# Model settings
EMBEDDING_MODEL=ai-forever/ru-en-RoSBERTa

# ============================================
# Limits (защита от перегрузки)
# ============================================
MAX_BATCH_SIZE=128              # Максимум элементов в батче
MAX_TEXT_LENGTH=10000           # Максимум символов в тексте
MAX_CONCURRENT_REQUESTS=6       # Параллельные encode операции
ENCODE_TIMEOUT_SECONDS=15.0     # Таймаут на encode

# ============================================
# Rate Limiting
# ============================================
RATE_LIMIT=100/minute           # Лимит для /embed, /prepare-and-embed, /reindex
RATE_LIMIT_BATCH=60/minute      # Лимит для /batch, /reindex-batch

# ============================================
# Caching (in-memory)
# ============================================
CACHE_ENABLED=true              # Включить кэширование
CACHE_TTL_SECONDS=3600          # TTL = 1 час
CACHE_MAX_SIZE=10000            # Максимум 10k эмбеддингов в кэше

# ============================================
# Security
# ============================================
ALLOWED_ORIGINS=*               # CORS origins (разделитель: запятая)
# API_KEY=your-secret-key       # API key для авторизации (опционально)

# ============================================
# Production рекомендации
# ============================================
# 1. Измените ALLOWED_ORIGINS на конкретные домены
# 2. Установите API_KEY для защиты endpoints
# 3. Настройте Prometheus scraping на /metrics
# 4. Для Redis кэша добавьте REDIS_URL (будущее улучшение)
